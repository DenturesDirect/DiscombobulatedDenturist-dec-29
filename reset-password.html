
<!DOCTYPE html>
<html>
<head>
    <title>Reset Password</title>
</head>
<body>
    <h1>Reset Your Password</h1>
    <p>Open your browser console (F12) and run this:</p>
    <pre id="command"></pre>
    <button onclick="resetPassword()">Reset Password</button>
    <div id="result"></div>

    <script>
        const command = `fetch('https://web-production-8fe06.up.railway.app/api/auth/emergency-reset', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    email: 'damien@denturesdirect.ca',
    newPassword: 'TempPassword123!'
  })
}).then(r => r.json()).then(console.log)`;

        document.getElementById('command').textContent = command;

        async function resetPassword() {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = 'Resetting password...';
            
            try {
                const response = await fetch('https://web-production-8fe06.up.railway.app/api/auth/emergency-reset', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        email: 'damien@denturesdirect.ca',
                        newPassword: 'TempPassword123!'
                    })
                });
                
                const result = await response.json();
                resultDiv.innerHTML = '<pre>' + JSON.stringify(result, null, 2) + '</pre>';
                
                if (result.success) {
                    resultDiv.innerHTML += '<p style="color: green;">✅ Password reset successfully! You can now log in.</p>';
                } else {
                    resultDiv.innerHTML += '<p style="color: red;">❌ Error: ' + (result.message || 'Unknown error') + '</p>';
                }
            } catch (error) {
                resultDiv.innerHTML = '<p style="color: red;">❌ Error: ' + error.message + '</p>';
            }
        }
    </script>
</body>
</html>
